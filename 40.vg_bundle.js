"use strict";(self.webpackChunkcustom_vf_nextjs=self.webpackChunkcustom_vf_nextjs||[]).push([[40],{8040:(e,t,a)=>{a.r(t),a.d(t,{DEFAULT_HANDOFF_SUBTITLE:()=>Q,DEFAULT_HANDOFF_TITLE:()=>K,default:()=>Y});var n=a(2167),r=a(5861),i=a(4687),s=a.n(i),l=a(8676),o=a(1148),v=a(7828),g=a(7619),u=a(7294),c=a(7462),d=a(2134),f=u.createElement,b=function(){return f("svg",{"aria-hidden":"true",fill:"none",height:"80%",role:"presentation",viewBox:"0 0 24 24",width:"80%"},f("path",{d:"M12 2C9.38 2 7.25 4.13 7.25 6.75C7.25 9.32 9.26 11.4 11.88 11.49C11.96 11.48 12.04 11.48 12.1 11.49C12.12 11.49 12.13 11.49 12.15 11.49C12.16 11.49 12.16 11.49 12.17 11.49C14.73 11.4 16.74 9.32 16.75 6.75C16.75 4.13 14.62 2 12 2Z",fill:"currentColor"}),f("path",{d:"M17.0809 14.1489C14.2909 12.2889 9.74094 12.2889 6.93094 14.1489C5.66094 14.9989 4.96094 16.1489 4.96094 17.3789C4.96094 18.6089 5.66094 19.7489 6.92094 20.5889C8.32094 21.5289 10.1609 21.9989 12.0009 21.9989C13.8409 21.9989 15.6809 21.5289 17.0809 20.5889C18.3409 19.7389 19.0409 18.5989 19.0409 17.3589C19.0309 16.1289 18.3409 14.9889 17.0809 14.1489Z",fill:"currentColor"}))},m=a(5987),p=a(2982),h=a(7464),y=a(3899),w=a(8473),O=(0,h.tv)({slots:{base:[" vg-flex "," vg-relative "," vg-justify-center "," vg-items-center "," vg-box-border "," vg-overflow-hidden "," vg-align-middle "," vg-text-white "," vg-z-0 "].concat((0,p.Z)(y.Dh)),img:[" vg-flex "," vg-object-cover "," vg-w-full "," vg-h-full "," vg-transition-opacity "," vg-!duration-500 "," vg-opacity-0 "," vg-data-[loaded=true]:opacity-100 "],fallback:[].concat((0,p.Z)(y.z6),[" vg-flex "," vg-items-center "," vg-justify-center "]),name:[].concat((0,p.Z)(y.z6),[" vg-font-normal "," vg-text-center "," vg-text-inherit "]),icon:[].concat((0,p.Z)(y.z6),[" vg-flex "," vg-items-center "," vg-justify-center "," vg-text-inherit "," vg-w-full "," vg-h-full "])},variants:{size:{sm:{base:" vg-w-8 vg-h-8 vg-text-tiny "},md:{base:" vg-w-10 vg-h-10 vg-text-tiny "},lg:{base:" vg-w-14 vg-h-14 vg-text-small "}},color:{default:{base:w.J.solid.default},primary:{base:w.J.solid.primary},secondary:{base:w.J.solid.secondary},success:{base:w.J.solid.success},warning:{base:w.J.solid.warning},danger:{base:w.J.solid.danger}},radius:{none:{base:" vg-rounded-none "},sm:{base:" vg-rounded-small "},md:{base:" vg-rounded-medium "},lg:{base:" vg-rounded-large "},full:{base:" vg-rounded-full "}},isBordered:{true:{base:" vg-ring-2 vg-ring-offset-2 vg-ring-offset-background vg-dark:ring-offset-background-dark "}},isDisabled:{true:{base:" vg-opacity-disabled "}},isInGroup:{true:{base:[" vg--ms-2 vg-data-[hover=true]:-translate-x-3 vg-transition-transform "," vg-data-[focus-visible=true]:-translate-x-3 "]}},isInGridGroup:{true:{base:" vg-m-0 vg-data-[hover=true]:translate-x-0 "}}},defaultVariants:{size:"md",color:"default",radius:"full"},compoundVariants:[{color:"default",isBordered:!0,class:{base:" vg-ring-default "}},{color:"primary",isBordered:!0,class:{base:" vg-ring-primary "}},{color:"secondary",isBordered:!0,class:{base:" vg-ring-secondary "}},{color:"success",isBordered:!0,class:{base:" vg-ring-success "}},{color:"warning",isBordered:!0,class:{base:" vg-ring-warning "}},{color:"danger",isBordered:!0,class:{base:" vg-ring-danger "}}]}),x=((0,h.tv)({base:" vg-flex vg-items-center vg-justify-center vg-h-auto vg-w-max-content ",variants:{isGrid:{true:" vg-inline-grid vg-grid-cols-4 vg-gap-3 "}}}),a(1844)),j=a(1744),P=a(4720),k=a(9869),D=a(262),I=a(8628),N=a(3942),C=a(8922),U=a(885),Z=(0,a(6347).k)({name:"AvatarGroupContext",strict:!1}),S=(0,U.Z)(Z,2),F=(S[0],S[1]),B=["as","ref","src","name","icon","classNames","fallback","alt","imgRef","color","radius","size","isBordered","isDisabled","isFocusable","getInitials","ignoreFallback","showFallback","ImgComponent","imgProps","className","onError"];function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var G=u.createElement;function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var _=(0,d.Gp)((function(e,t){var a=function(){var e,t,a,n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=F(),l=!!s,o=i.as,v=i.ref,g=i.src,c=i.name,d=i.icon,f=i.classNames,b=i.fallback,p=i.alt,h=void 0===p?c||"avatar":p,y=i.imgRef,w=i.color,U=void 0===w?null!==(e=null==s?void 0:s.color)&&void 0!==e?e:"default":w,Z=i.radius,S=void 0===Z?null!==(t=null==s?void 0:s.radius)&&void 0!==t?t:"full":Z,E=i.size,G=void 0===E?null!==(a=null==s?void 0:s.size)&&void 0!==a?a:"md":E,T=i.isBordered,A=void 0===T?null!==(n=null==s?void 0:s.isBordered)&&void 0!==n&&n:T,_=i.isDisabled,L=void 0===_?null!==(r=null==s?void 0:s.isDisabled)&&void 0!==r&&r:_,R=i.isFocusable,M=void 0!==R&&R,V=i.getInitials,W=void 0===V?P.e:V,H=i.ignoreFallback,J=void 0!==H&&H,q=i.showFallback,X=void 0!==q&&q,K=i.ImgComponent,Q=void 0===K?"img":K,Y=i.imgProps,$=i.className,ee=i.onError,te=(0,m.Z)(i,B),ae=o||"span",ne=(0,j.gy)(v),re=(0,j.gy)(y),ie=(0,I.Fx)(),se=ie.isFocusVisible,le=ie.isFocused,oe=ie.focusProps,ve=(0,C.XI)({isDisabled:L}),ge=ve.isHovered,ue=ve.hoverProps,ce="loaded"===(0,N.d)({src:g,onError:ee,ignoreFallback:J}),de=(!g||!ce)&&X,fe=(0,u.useMemo)((function(){var e;return O({color:U,radius:S,size:G,isBordered:A,isDisabled:L,isInGroup:l,isInGridGroup:null!==(e=null==s?void 0:s.isGrid)&&void 0!==e&&e})}),[U,S,G,A,L,l,null==s?void 0:s.isGrid]),be=(0,k.W)(null==f?void 0:f.base,$),me=(0,u.useMemo)((function(){return M||"button"===o}),[M,o]),pe=(0,u.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return z({ref:ne,tabIndex:me?0:-1,"data-hover":(0,D.PB)(ge),"data-focus":(0,D.PB)(le),"data-focus-visible":(0,D.PB)(se),className:fe.base({class:(0,k.W)(be,null==e?void 0:e.className)})},(0,x.dG)(te,ue,me?oe:{}))}),[me,fe,be,oe,te]),he=(0,u.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return z({ref:re,src:g,"data-loaded":(0,D.PB)(ce),className:fe.img({class:null==f?void 0:f.img})},(0,x.dG)(Y,e))}),[fe,ce,Y,g,re]);return{Component:ae,ImgComponent:Q,src:g,alt:h,icon:d,name:c,imgRef:re,slots:fe,classNames:f,fallback:b,isImgLoaded:ce,showFallback:de,ignoreFallback:J,getInitials:W,getAvatarProps:pe,getImageProps:he}}(A(A({},e),{},{ref:t})),n=a.Component,r=a.ImgComponent,i=a.src,s=a.icon,l=void 0===s?G(b,null):s,o=a.alt,v=a.classNames,g=a.slots,d=a.name,f=a.showFallback,p=a.fallback,h=a.getInitials,y=a.getAvatarProps,w=a.getImageProps,U=(0,u.useMemo)((function(){return!f&&i?null:p?G("div",{"aria-label":o,className:g.fallback({class:null==v?void 0:v.fallback}),role:"img"},p):d?G("span",{"aria-label":o,className:g.name({class:null==v?void 0:v.name}),role:"img"},h(d)):G("span",{"aria-label":o,className:g.icon({class:null==v?void 0:v.icon}),role:"img"},l)}),[f,i,p,d,v]);return G(n,y(),i&&G(r,(0,c.Z)({},w(),{alt:o})),U)}));_.displayName="NextUI.Avatar";const L=_;var R=a(9660),M=a(3850),V=a(2280),W=a(356),H=a(4070),J=u.createElement;function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function X(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var K="Support Team",Q="We reply within minutes âš¡";const Y=function(e){var t,a,n,i,c,d,f,b,m,p,h,y,w,O,x=(0,u.useState)({}),j=x[0],P=x[1],k=(0,l.useRuntime)(),D=k.lightConvoData,I=k.runtime,N=k.confirmedBucket,C=k.handleRequestHandoffInit,U=(k.handleVGHandoffReject,k.setRuntime),Z=(k.formattedTurnsValue,I.isSuperAdmin),S=(0,u.useState)(!1),F=(S[0],S[1]);function B(){return(B=(0,r.Z)(s().mark((function e(t){var a,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.agentID,e.next=3,fetch("".concat((0,o.Sw)({region:"voiceglow-eu"===N?"eu":"na"}),"/vg/").concat(a,"/safe-data")).then((function(e){return e.json()})).catch((function(e){}));case 3:null!=(n=e.sent)&&n.orgUsers?P(n):P({});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}u.useEffect((function(){var e,t;null!==(e=I.variables)&&void 0!==e&&e.ID&&N&&(!function(e){B.apply(this,arguments)}({agentID:null===(t=I.variables)||void 0===t?void 0:t.ID}),F(!0))}),[null===(t=I.variables)||void 0===t?void 0:t.ID,N]);var E=u.useMemo((function(){var e;return null==j||null===(e=j.orgUsers)||void 0===e?void 0:e.sort((function(e,t){return"online"===e.status&&"online"!==t.status?-1:"online"!==e.status&&"online"===t.status?1:0})).slice(0,3)}),[j.orgUsers]),z=u.useMemo((function(){var e;return null==j||null===(e=j.orgUsers)||void 0===e?void 0:e.some((function(e){return"online"===e.status}))}),[null==j?void 0:j.orgUsers]);return J(v.M,null,null!=j&&null!==(a=j.orgUsers)&&void 0!==a&&a.length&&e.active&&"human-chatting"!==D.state&&(z||null!=I&&null!==(n=I.variables)&&void 0!==n&&n.alwaysShowHandoff)?J(g.E.div,{initial:{opacity:0,left:"50%",x:"-50%",top:0},animate:{opacity:1,left:"50%",x:"-50%",top:75},exit:{opacity:0,left:"50%",x:"-50%",top:0},transition:{duration:.2},key:"vg-live-agents",className:" vg-absolute vg-w-[90%] vg-rounded-large vg-z-[50] vg-backdrop-blur vg-bg-background/50 vg-ml-unit-1 vg-p-unit-3 vg-rounded-large vg-border vg-border-foreground-200 vg-live-agents"},J("div",{className:" vg-w-full vg-flex vg-justify-between vg-live-agents--container"},J("div",{className:" vg-flex vg-gap-unit-2 vg-live-agents--avatars"},J("div",{className:" vg-flex vg-justify-start vg-items-center vg-live-agents--avatars-container"},null==E?void 0:E.map((function(e,t){return J("div",{style:{zIndex:E.length-t},key:"human_agent_".concat(t),className:" vg-relative vg-w-auto vg-live-agents--avatar"},J(L,{className:" vg-w-[35px] vg-h-[35px] vg-relative vg-border vg-border-2 vg-border-background ".concat(0!==t?" vg-ml-[-15px] ":" "," vg-live-agents--avatar-img"),size:"sm",src:e.squarePhotoURL}),J("div",{className:" vg-w-unit-2 vg-h-unit-2 vg-absolute vg-bottom-unit-1 vg-right-unit-1 vg-rounded-full ".concat("online"===e.status?" vg-bg-green-500 ":" vg-bg-gray-500 "," vg-live-agents--avatar-status")}))})),(null==j||null===(i=j.orgUsers)||void 0===i?void 0:i.length)>=3?J("p",{className:" vg-flex vg-text-small vg-opacity-80 vg-ml-unit-1 vg-live-agents--avatars-more-label"},"+",(null==j||null===(c=j.orgUsers)||void 0===c?void 0:c.length)-3):null),J("div",{className:"vg-live-agents--text"},I.isSuperAdmin?J(R.Z,{classNames:{base:" vg-h-4 vg-min-h-0 vg-bg-transparent vg-mb-2 ",input:" vg-h-4 vg-min-h-0 vg-bg-transparent ",inputWrapper:" vg-h-4 vg-min-h-0 vg-m-0 vg-p-0 vg-bg-transparent ",innerWrapper:" vg-pb-1 "},type:"text",variant:"underlined",onValueChange:function(t){Z&&null!=e&&e.setLocalData&&e.setLocalData((function(e){return X(X({},e),{},{UIhandoffTitle:t})}))},value:void 0===(null==I||null===(d=I.variables)||void 0===d?void 0:d.UIhandoffTitle)?K:null==e||null===(f=e.localRuntimeData)||void 0===f?void 0:f.UIhandoffTitle,size:"sm"}):J("p",null,J(V.Z,{className:" vg-text-small vg-leading-unit-4 vg-live-agents--header",to:null===(b=I.variables)||void 0===b?void 0:b.lang,text:(null==I||null===(m=I.variables)||void 0===m?void 0:m.UIhandoffTitle)||K})),null!=I&&I.isSuperAdmin?J(R.Z,{classNames:{base:" vg-h-4 vg-min-h-0 vg-bg-transparent ",input:" vg-h-4 vg-min-h-0 vg-bg-transparent ",inputWrapper:" vg-h-4 vg-min-h-0 vg-m-0 vg-p-0 vg-bg-transparent ",innerWrapper:" vg-pb-1 "},type:"text",variant:"underlined",onValueChange:function(t){Z&&null!=e&&e.setLocalData&&e.setLocalData((function(e){return X(X({},e),{},{UIhandoffSubtitle:t})}))},value:void 0===(null==I||null===(p=I.variables)||void 0===p?void 0:p.UIhandoffSubtitle)?Q:null==e||null===(h=e.localRuntimeData)||void 0===h?void 0:h.UIhandoffSubtitle,size:"sm"}):J("p",{className:" vg-flex vg-items-center vg-opacity-80 vg-live-agents--description-container"},J(W.wGS,{className:" vg-w-unit-3 vg-h-unit-3 vg-mr-unit-1 vg-live-agents--description-icon"}),J(V.Z,{limit:25,className:" vg-text-tiny vg-leading-unit-4 vg-live-agents--description",to:null===(y=I.variables)||void 0===y?void 0:y.lang,text:(null==I||null===(w=I.variables)||void 0===w?void 0:w.UIhandoffSubtitle)||Q})))),J("div",{className:"vg-live-agents--buttons"},J(M.Z,{isDisabled:"requested_chat"===D.state,onPress:(0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C({instant:!0}),U((function(e){return X(X({},e),{},{notice:X(X({},e.notice),{},{custom:J(H.Z,{cancelToIntent:!0})})})}));case 2:case"end":return e.stop()}}),e)}))),className:" vg-font-bold vg-live-agents--button",color:"primary",size:"sm"},J(V.Z,{className:"vg-live-agents--button-text",limit:10,to:null===(O=I.variables)||void 0===O?void 0:O.lang,text:"âš¡ Chat"}))))):null)}}}]);